{% extends "ecclesi/layout.html" %}

{% macro render_field(field, placeholder=None, id=None, class=None) %}
{% if field.errors %}
<div>
{% elif field.flags.error %}
<div>
{% else %}
<div>
{% endif %}
    {% set css_class = 'form-control ' + kwargs.pop('class', '') %}
    {{ field(class=css_class, placeholder=placeholder, **kwargs) }}
</div>
{% endmacro %}

{% block body %}

<div id="roller">
    <ul class="table-of-contents">
        <li><a href="#seccion1"></a></li>
        <li><a href="#seccion2"></a></li>
        <li><a href="#seccion3"></a></li>
    </ul>
</div>

<div id="seccion1" class="parallax-container block scrollspy">
    <div class="parallax">
        <img src="{{ url_for('static', filename='img/nica.svg') }}" style="display: block; transform: translate3d(-50%, 194px, 0px); z-index: -1;">
        <div class="contenido">
            <div class="grid_12 center-align">
                <h3 class="center-align" style="color: #666666;">Pequeña descripción de la aplicación</h3>
                <a class="waves-effect waves-light btn-large red" style="font-size: 20px;">DESCARGAR</a>
            </div>
        </div>
    </div>
    <div class="pie-seccion">
        <p class="center-align">¿Como funciona EcclesiApp?</p>
    </div>
</div>

<div id="seccion2" class="block section scrollspy">
        <div  class="contenido">
            <div class="grid_12 center-align">
                <div class="carousel carousel-slider center" data-indicators="true" style="height: 400px;">
                    <div class="carousel-fixed-item center">
                      <a class="btn waves-effect white grey-text darken-text-2">button</a>
                    </div>
                    <div class="carousel-item red white-text" href="#one!">
                      <h2>First Panel</h2>
                      <p class="white-text">This is your first panel</p>
                    </div>
                    <div class="carousel-item amber white-text" href="#two!">
                      <h2>Second Panel</h2>
                      <p class="white-text">This is your second panel</p>
                    </div>
                    <div class="carousel-item green white-text" href="#three!">
                      <h2>Third Panel</h2>
                      <p class="white-text">This is your third panel</p>
                    </div>
                    <div class="carousel-item blue white-text" href="#four!">
                      <h2>Fourth Panel</h2>
                      <p class="white-text">This is your fourth panel</p>
                    </div>
                  </div>
            </div>
        </div>
    <div class="pie-seccion" style="margin-top:200px;">
        <p class="center-align">Contactenos!</p>
    </div>
</div>

<div id="seccion3" class="block section scrollspy">
        <div class="contenido">
            <div class="grid_12 center-align">

            </div>
        </div>
    <div class="pie-seccion" style="margin-top:200px;">
        <p class="center-align">Arquidiocesis de Managua - EcclesiApp</p>
    </div>
</div>

<!-- Esctructura Modal -->
<div id="acceso" class="modal">
    <div class="modal-content">
        <div class="row">
            {% with errors = get_flashed_messages(category_filter=["error"]) %}
            {% if errors %}
            <div>
            {% for error in errors %}
            {{ error }}<br>
            {% endfor %}
            </div>
            {% endif %}
            {% endwith %}

            {% if form.errors %}
            <div>
            {% for field, error in form.errors.items() %}
            {% for e in error %}
            {{ e }}<br>
            {% endfor %}
            {% endfor %}
            </div>
            {% endif %}
            <form class="col s12" method="POST" action="{{ url_for('usuario.acceso') }}" accept-charset="UTF-8" role="form">
                {{ form.csrf_token }}
                <div class="row">
                    <div class="input-field col s12">
                        {{ render_field(form.email, placeholder="Email", id="email", class="validate") }}
                        <!-- label for="email">Usuario</label -->
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        {{ render_field(form.password, placeholder="Contraseña", id="password", class="validate") }}
                        <!-- label for="password">Contraseña</label -->
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                        <button class="btn waves-effect waves-light" type="submit" name="action">Iniciar Sessión</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}